@page "/Intro4"
@using System

<div class="app-frame">
    <div class="home-container">
        <h2 class="greeting">@greeting</h2>

        <!-- 4 Feature-Kacheln -->
        <div class="button-grid">
            <div class="feature-card">
                <img src="images/aufnahmen.png" alt="Aufnahmen" class="feature-icon" />
                <p>Aufnahmen</p>
            </div>

            <div class="feature-card">
                <img src="images/krankheiten_suchen.png" alt="Krankheiten suchen" class="feature-icon" />
                <p>Krankheiten<br />suchen</p>
            </div>

            <div class="feature-card">
                <img src="images/kalender.png" alt="Termine" class="feature-icon" />
                <p>Termine</p>
            </div>

            <div class="feature-card">
                <img src="images/zusammenfassung.png" alt="Zusammenfassungen" class="feature-icon" />
                <p>Zusammenfassungen</p>
            </div>
        </div>

        <!-- Letzte Zusammenfassungen -->
        <div class="summary-section">
            <h3>Letzte Zusammenfassungen</h3>

            <div class="summary-card">
                <img src="images/brain.png" alt="Icon" class="summary-icon" />
                <div class="summary-info">
                    <p class="summary-title">Influenza</p>
                    <p class="summary-date">15 Okt. 2025</p>
                </div>
                <span class="summary-arrow">â€º</span>
            </div>

            <div class="summary-card">
                <img src="images/brain.png" alt="Icon" class="summary-icon" />
                <div class="summary-info">
                    <p class="summary-title">Hypertonie</p>
                    <p class="summary-date">2 Okt. 2025</p>
                </div>
                <span class="summary-arrow">â€º</span>
            </div>
        </div>
    </div>
</div>

@code {
    private string greeting = "";

    protected override void OnInitialized()
    {
        // Deutsche Zeitzone erzwingen
        var berlinTimeZone = TimeZoneInfo.FindSystemTimeZoneById("Europe/Berlin");
        DateTime berlinTime = TimeZoneInfo.ConvertTimeFromUtc(DateTime.UtcNow, berlinTimeZone);
        int hour = berlinTime.Hour;

        if (hour >= 6 && hour < 12)
        {
            greeting = "Guten Morgen ðŸ‘‹";
        }
        else if (hour >= 12 && hour < 18)
        {
            greeting = "Guten Mittag â˜€ï¸";
        }
        else
        {
            greeting = "Guten Abend ðŸŒ™";
        }
    }
}
